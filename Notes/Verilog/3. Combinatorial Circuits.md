# Conditional Operator
In a logic circuit, it is often necessary to choose between several possible signals or values based on the state of some condition (e.g. multiplexer)
- Verilog provides a **conditional operator** `? :`
- Used as `conditional_expression ? value_if_true : value_if_false`
- This operator can be used in **continuous assignment statements** and in **procedural statements** inside an `always` block

# 2-to-1 Multiplexer
```Verilog
	// Continuous Assignment
	module mux2to1(w0, w1, s, f);
		input w0, w1, s;
		output f;
		assign f = s ? w1 : w0;
	endmodule
	
	// Procedural Assignment in 'always' block
	module mux2to1(w0, w1, s, f);
		input w0, w1, s;
		output reg f;
		always @(w0, w1, s) begin
			f = s ? w1 : w0;
		end
	endmodule
```

# If-else Statements
Syntax:
- `if (conditional_expression) statement;`
- `else statement;`
- Each statement can be a **block of statements** enclosed in `begin` and `end`.

```Verilog
	// If-else Example - 4-to-1 Multiplexer
	
	module mux4to1(w0, w1, w2, w3, s, f);
		input w0, w1, w2, w3;
		input [1:0] S;
		output reg f;
		
		always @(*) begin
			if (S == 2'b00)
				f = w0;
			else if (S == 2'b10)
				f = w1;
			else if (S == 2'b11)
				f = w3;
		end
	endmodule
```

# Case Statement
Works like a switch-case in programming languages.

Syntax:
```Verilog
	case(expression)
		alternative1: statement;
		
		alternative2: statement;
		
		default: statement
	endcase
```

```Verilog
	// Case Example - Hex-to-7-Segment Decoder
	
	module seg7(hex, leds);
	input [3:0] hex;
	output reg [1:7] leds;
	
	case (hex) //abcdefg
		0: leds = 7'b1111110
		1: leds = 7'b0110000
		2: leds = 7'b1101101
		3: leds = 7'b1111001
		4: leds = 7'b0110011
		5: leds = 7'b1011011
		6: leds = 7'b1011111
		7: leds = 7'b1110000
		8: leds = 7'b1111111
		9: leds = 7'b1111011
		10: leds = 7'b1110111
		11: leds = 7'b0011111
		12: leds = 7'b1001110
		13: leds = 7'b0111101
		14: leds = 7'b1001111
		15: leds = 7'b1000111
```

## Casex Statement
It's customary to treat the letter 'x' as an unknown value.
- And 'z' when output is not connected to anything (high-impedance)
The `casex` statement treats all z and x values as don't cares
- Otherwise, works the same as a `case` statement

# For Loop
For loop is useful for circuits with regular structures
- `for (initial_index; terimnating_condition; increment) statement;`
- Loop variable has to be of type **integer**
	- Unlike for loops in other programming languages, Verilog for loop does not specify changes over time
		- Instead, each iteration specifies a **different subcircuit**

```Verilog
	// 2-to-4 Binary Decoder
	
	module dec2to4(W, En, Y);
		input [1:0] W;
		input En;
		output reg [3:0] Y;
		integer k;
		
		always @(W, En) begin
			for (k = 0; k <=  3; k = k+1)
				if ((W == k) && (En == 1))
					Y[k] = 1;
				else
					Y[k] = 0;
		end
	endmodule
```

# Verilog Operators
## Bitwise
Already used these 
- ~, &, |, ^, ^~

## Logical

| Symbol | Operation |
| ------ | --------- |
| !      | NOT       |
| &&     | AND       |
| \|\|   | OR        |

## Reduction
Performs an operation on the bits of a single vector and produces a one-bit result

Ex. `f = &A` performs an AND of all of the bits in 'A' and assigns it to f.

## Arithmetic and Relational
- + - * /
- < > <= >= ==

All of the above have their usual meanings

## Bit Shift
<< - shift left
\>> - shift right

Ex. A << 2 
- Shift A to the left twice (A / 4)

## Concatenate
- `{}` concatenates two or more vectors to create a larger vector
- Can do `{3{A}}` to do `{A, A, A}`

# Function
Replicate specific operations to modularize large Verilog designs
- A task is declared by the keyword `function` and compromises a block of statements that end with the keyword `endfunction`
- Function must have **at least one input** and it returns a **single value** 
- The function must be included in the module that calls it

```Verilog
	// Function example - 16-to-1 Multiplexer
	
	module mux16to1(W, S16, f);
		input [0:15] W;
		input [3:0] S16;
		output reg f;
		
		// 4-to-1 multiplexer
		function mux4to1;
			input [3:0] X;
			input [1:0] S4;
			case (S4)
				0: mux4to1 = X[0];
				1: mux4to1 = X[1];
				2: mux4to1 = X[2];
				3: mux4to1 = X[3];
			endcase
		endfunction
		
		always @(W, S16)
			case (S16[3:2])
				0: f = mux4to1(W[0:3], S16[1:0])
				1: f = mux4to1(W[4:7], S16[1:0])
				2: f = mux4to1(W[8:11], S16[1:0])
				3: f = mux4to1(W[12:15], S16[1:0])
			endcase
	endmodule
```