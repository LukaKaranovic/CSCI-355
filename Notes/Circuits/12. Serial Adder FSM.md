# FSM for Serial Adder
Our task is to design a circuit that will perform the serial addition, dealing with a pair of bits in one clock cycle.
- Process starts by adding bits a0 and b0
- Next clock cycle, bits a1 and b1 are added, including a possible carry c0

Serial Adder Block Diagram:
![[sadder_block_diagram.png]]
- Assume input shift registers have **parallel load** capability.
- We will use pos edge-triggered flip-flops

## Mealy-type FSM
State diagram:
![[sadder_mealy_state_diag.png]]

State table:
![[sadder_mealy_state_table.png]]
- Note that we have two inputs (a and b)
- The output depends on a, b, and if carry in is 0 or 1 (state is G or H)

Using K-maps, we can determine the state-assigned table:
![[sadder_mealy_state_assigned.png]]
- Y = ab + ay + by
	- Y is carry-out, y is carry-in
- s = a ^ b ^ y
- Note: these are the same equations for a full adder

Circuit using D flip-flop:
![[sadder_mealy_circuit.png]]
- Serial adder is limited only by the size of the shift registers

## Moore-type FSM
![[sadder_moore_state_diag.png]]
- G0 - carry is 0 and sum is 0
- G1 - carry is 0 and sum is 1
- H0 - carry is 1 and sum is 0
- H1 - carry is 1 and sum is 1

Leads to this state table:
![[sadder_moore_state_table.png]]

The state-assigned table (two state variables) is 
![[sadder_moore_stated_assigned.png]]
- Y1 = a ^ b ^ y2
- Y2 = ab + ay2 + by2
- s = y1
- Note that equations for Y1 and Y2 are the same as for a full adder 
	- Y1 is when carry-out is 1
	- Y2 is when sum is 1

The circuit:
![[sadder_moore_circuit.png]]
- Difference from Mealy-type is that the output signal s is passed through an **extra flip-flop**

High-level diagram:
![[sadder_full_diag.png]]
- Final on this
- Be able to explain how it works:
	- shift register module
	- counter module
	- adder module (Moore or Mealy)